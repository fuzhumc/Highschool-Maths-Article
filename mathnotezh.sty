\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{hyperref}
\usepackage{amsmath}
\usepackage{amsthm, amssymb}
\usepackage{tikz-cd}
\usepackage{stmaryrd}
\usepackage{enumitem}
\usepackage{titlepic}
\usepackage{ctex}
\usepackage{xeCJK}
\usepackage{geometry}
\usepackage{stmaryrd}

\setCJKmainfont{SimSun}[BoldFont=SimHei,ItalicFont=KaiTi]
\geometry{a4paper}

\setlist[enumerate,1]{label=\arabic*.}
\setlist[enumerate,2]{label=(\arabic*)}
\setlist[enumerate,3]{label=(\roman*)}
\hypersetup{colorlinks=true,linkcolor=blue}

\theoremstyle{definition}
\newtheorem{prop}{性质}
\newtheorem{thm}[prop]{定理}
\newtheorem{lem}[prop]{引理}
\newtheorem{deff}{定义}
\newtheorem{exer}{练习}

\theoremstyle{remark}
\newtheorem*{rqq}{注记}
\newtheorem{cor}[prop]{推论}

\makeatletter

\def\@buildmath#1{
    \expandafter\def\csname bb#1\endcsname{\mathbb{#1}}
    \expandafter\def\csname bs#1\endcsname{\boldsymbol{#1}}
    \expandafter\def\csname cal#1\endcsname{\mathcal{#1}}
    \expandafter\def\csname scr#1\endcsname{\mathscr{#1}}
    \expandafter\def\csname frak#1\endcsname{\mathfrak{#1}}
    \expandafter\def\csname rm#1\endcsname{\mathrm{#1}}
    \expandafter\def\csname bf#1\endcsname{\mathbf{#1}}
}

\def\@buildmathletters#1{
    \ifx#1\relax
    \else
        \@buildmath{#1}
        \expandafter\@buildmathletters
    \fi
}

\@buildmathletters ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\relax

\makeatother

\let\ker\relax

\newcommand{\dif}{\mathrm{d}}
\DeclareMathOperator{\id}{Id}
\DeclareMathOperator{\ker}{Ker}
\DeclareMathOperator{\im}{Im}
\DeclareMathOperator{\pgcd}{pgcd}
\DeclareMathOperator{\ppcm}{ppcm}
\DeclareMathOperator{\coker}{coKer}
\DeclareMathOperator{\vect}{Vect}
\DeclareMathOperator{\rang}{rang}